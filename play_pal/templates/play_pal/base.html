{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="{% static 'play_pal/css/main.css' %}">
    <link rel="icon" href="{% static 'play_pal/images/favicon/favicon.svg' %}">

    <title>{% block title %}PlayPal{% endblock %}</title>
</head>
<body>
    <header>
        <nav class="nav-bar">
            <a href="{% url 'homepage' %}" class="logo">
                <img src="{% static 'play_pal/images/favicon/favicon.svg' %}" alt="PlayPal Logo">
            </a>

            <!-- Hamburger menu for mobile -->
            <button class="menu-toggle" id="menuToggle" aria-label="Toggle navigation menu">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <!-- Desktop navigation -->
            <div class="nav-links">
                <a href="{% url 'homepage' %}">Homepage</a>
                <a href="{% url 'faq' %}">FAQ</a>
                <a href="{% url 'developer' %}">Developer</a>
            </div>

            <!-- Auth buttons (desktop & mobile menu) -->
            <div class="nav-actions">
                {% if user.is_authenticated %}
                    <span class="user-greeting">
                        Hello, {{ user.get_full_name|default:user.email }}
                    </span>
                    <a href="{% url 'profile' %}" class="btn-profile">Profile</a>
                    <form method="post" action="{% url 'logout' %}" class="logout-form">
                        {% csrf_token %}
                        <button type="submit" class="btn-logout">Logout</button>
                    </form>
                {% else %}
                    <a href="{% url 'signin' %}" class="btn-signin">
                        Sign in
                        <span class="arrow">↗</span>
                    </a>
                    <a href="{% url 'signup' %}" class="btn-signup">
                        Sign up
                        <span class="arrow">↗</span>
                    </a>
                {% endif %}
            </div>
        </nav>

        <!-- Mobile menu (hidden by default) -->
        <div class="mobile-menu" id="mobileMenu">
            <a href="{% url 'homepage' %}">Homepage</a>
            <a href="{% url 'faq' %}">FAQ</a>
            <a href="{% url 'developer' %}">Developer</a>

            {% if user.is_authenticated %}
                <hr>
                <span class="mobile-greeting">Hello, {{ user.get_full_name|default:user.email }}</span>
                <a href="{% url 'profile' %}">Profile</a>
                <form method="post" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn-logout-mobile">Logout</button>
                </form>
            {% else %}
                <hr>
                <a href="{% url 'signin' %}">Sign in ↗</a>
                <a href="{% url 'signup' %}">Sign up ↗</a>
            {% endif %}
        </div>
    </header>

    <main>
        {% block body %}
        {% endblock %}
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2025 PlayPal.</p>
            <div class="footer-links">
                <a href="{% url 'faq' %}">FAQ</a>
                <a href="{% url 'developer' %}">Developer</a>
            </div>
        </div>
    </footer>

    <script src="{% static 'play_pal/javascript/main.js' %}" defer></script>
</body>
</html>
